# 开发日志

## 2022-8-25

### REST接口

参考Spring Data REST，使用@BasePathAwareController标注，在Spring Data REST的BASE URI，启用一个子路径，重定义了相关的REST接口，返回自定义的数据格式，支持CRUD，以及Repository中自定义的search方法。

注意：
* 接口安全性部分需要考虑
* 由于在数据提取过程中，Hibernate有Lazy loading的策略，这样导致在实体返回时，序列化会抛出异常，因此启用 spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true，这样会在访问lazy_load的属性时，自动打开新的Transaction获取，避免异常，但带来的问题是容易引起 N + 1 查询
* jackson有一个数据处理包：jackson-datatype-hibernate5，用于处理hibernate的数据类型，特别是lazy_load方面的内容，但试用后，结果是lazy_load的属性，会序列化为null，这个结果不是太理想
